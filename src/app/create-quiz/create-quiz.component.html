<div class="create-quiz-container">
  <h2>Créer un Quiz</h2>

  <!-- Formulaire pour le quiz -->
  <form (ngSubmit)="onSubmit()" #quizForm="ngForm">
    <div class="form-group">
      <label for="title">Titre du quiz:</label>
      <input type="text" id="title" [(ngModel)]="quiz.title" name="title" required />
    </div>

    <div class="form-group">
      <label for="description">Description:</label>
      <textarea id="description" [(ngModel)]="quiz.description" name="description" required></textarea>
    </div>

    <div class="questions-section">
      <h3>Questions :</h3>

      <div *ngFor="let question of quiz.questions; let i = index" class="question-group">
        <div class="form-group">
          <label for="statement-{{i}}">Question {{i + 1}} :</label>
          <input type="text" [(ngModel)]="question.statement" id="statement-{{i}}" name="statement-{{i}}" required placeholder="Écrivez la question" />
        </div>

        <div class="form-group">
          <label for="correctAnswer-{{i}}">Réponse correcte :</label>
          <input type="text" [(ngModel)]="question.correctAnswer" id="correctAnswer-{{i}}" name="correctAnswer-{{i}}" required placeholder="Réponse correcte" />
        </div>

        <div class="form-group">
          <label for="incorrectAnswers-{{i}}">Mauvaises réponses (séparées par des virgules) :</label>
          <input type="text" [(ngModel)]="question.incorrectAnswers" id="incorrectAnswers-{{i}}" name="incorrectAnswers-{{i}}" required placeholder="Mauvaises réponses" />
        </div>
      </div>

      <button class="add-question-btn" (click)="addQuestion()" type="button">Ajouter une question</button>

      <!-- Validation avant soumission -->
      <div *ngIf="quiz.questions.length < 2" class="error-message">
        <p>Vous devez ajouter au moins 2 questions.</p>
      </div>

      <button type="submit" [disabled]="!quizForm.valid || quiz.questions.length < 2">Créer le Quiz</button>
    </div>
  </form>
</div>
